#!/usr/bin/env python3

def process(q, ctime):
	while !q.empty() and 

C = int(input())
while C > 0:
  C -= 1
  N,T,M = map(int, input().split())
  leftq = rightq = []
  for i in range(M):
    a,b = input().split()
    if b == 'left':
      leftq.append([a,i])
    elif b == 'right':
      rightq.append([a,i])
      

